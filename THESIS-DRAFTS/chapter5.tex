\chapter{RESULTS}

\section{RESULTS}
In order to give a detailed display of the flexibility of this method, we wanted to show the results of the method after changing many of the parameters.  These include varying the resolution of the screen, angle of between VPL rays, number of VPL's per ray, and number of indirect shadow maps used. Modifying these parameters will have an impact on performance or number of frames rendered per second as well as quality.  Therefore, section \ref{sec:fps} will detail the performance impact of varying the parameters based off the change in the number of frames per second rendered and section \ref{sec:quality} will detail the impact of varying the parameters on the quality of the images rendered by calculating the percentage difference per pixel against the default parameter set-up.  As a reminder, the default method which is featured first on each table uses a resolution size of 1280 by 720, an angle of 5 degrees between VPL rays, 5 VPL's per ray, and 20 indirect shadow maps.

\subsection{IMPACT OF PARAMETER CHOICES ON FPS} \label{sec:fps}
The results will given in frames per second (FPS).  Table \ref{table:5.1} will display the results of varying the angle between the VPL rays. Table \ref{table:5.2} will display the results of varying the number of VPL's used on each ray (the total number of hemispheres). Table \ref{table:5.3} will display the results of using varying the resolution used.  Lastly, \ref{table:5.4} will display the results of reducing the number of indirect shadow maps used.

\begin{table}[h!]
	\caption{Varying the Angle Between VPL Rays (Impact on FPS)}
	\begin{center}
	    \begin{tabular}{ | l | l | l | l | l | l |}
	    \hline
	    Resolution & Angle & VPL's Per Ray & Total \#VPL's & \#Indirect SM's & FPS\\ \hline
	    1280x720 & 5 & 5 & 6485 & 20 & 55\\ \hline
	    1280x720 & 10 & 5 & 1625 & 20 & 65\\ \hline
	    1280x720 & 30 & 5 & 185 & 20 & 84\\ \hline
	    1280x720 & 45 & 5 & 85 & 20 & 95\\ \hline
	    1280x720 & 90 & 5 & 25 & 20 & 100\\ \hline
	    \end{tabular}
	\end{center}
	\label{table:5.1}
\end{table}

\begin{table}[h!]
	\caption{Varying the Number of VPL's Per Ray (Impact on FPS)}
	\begin{center}
	    \begin{tabular}{ | l | l | l | l | l | l |}
	    \hline
	    Resolution & Angle & VPL's Per Ray & Total \#VPL's & \#Indirect SM's & FPS\\ \hline
	    1280x720 & 5 & 5 & 6485 & 20 & 55\\ \hline
	    1280x720 & 5 & 4 & 5188 & 20 & 56\\ \hline
	    1280x720 & 5 & 3 & 3891 & 20 & 61\\ \hline
	    1280x720 & 5 & 2 & 2594 & 20 & 62\\ \hline
	    1280x720 & 5 & 1 & 1297 & 20 & 78\\ \hline
	    1280x720 & 5 & 6 & 7782 & 20 & 52\\ \hline
	    \end{tabular}
	\end{center}
	\label{table:5.2}
\end{table}

\begin{table}[h!]
	\caption{Varying the Resolution Size. (Impact on FPS)}
	\begin{center}
	    \begin{tabular}{ | l | l | l | l | l | l |}
	    \hline
	    Resolution & Angle & VPL's Per Ray & Total \#VPL's & \#Indirect SM's & FPS\\ \hline
	    1280x720 & 5 & 5 & 6485 & 20 & 55\\ \hline
	    1120x630 & 5 & 5 & 6485 & 20 & 82\\ \hline
	    960x540 & 5 & 5 & 6485 & 20 & 104\\ \hline
	    800x450 & 5 & 5 & 6485 & 20 & 119\\ \hline
	    640x360 & 5 & 5 & 6485 & 20 & 133\\ \hline
	    1440x810 & 5 & 5 & 6485 & 20 & 42\\ \hline
	    \end{tabular}
	\end{center}
	\label{table:5.3}
\end{table}

\begin{table}[h!]
	\caption{Varying the Number of Indirect Shadow Maps (Impact on FPS)}
	\begin{center}
	    \begin{tabular}{ | l | l | l | l | l | l |}
	    \hline
	    Resolution & Angle & VPL's Per Ray & Total \#VPL's & \#Indirect SM's & FPS\\ \hline
	    1280x720 & 5 & 5 & 6485 & 20 & 55\\ \hline
	    1280x720 & 5 & 5 & 6485 & 15 & 87\\ \hline
	    1280x720 & 5 & 5 & 6485 & 10 & 106\\ \hline
	    1280x720 & 5 & 5 & 6485 & 5 & 128\\ \hline
	    1280x720 & 5 & 5 & 6485 & 1 & 157\\ \hline
	    1280x720 & 5 & 5 & 6485 & 0 & 161\\ \hline
	    \end{tabular}
	\end{center}
	\label{table:5.4}
\end{table}

Tables \ref{table:5.1}, \ref{table:5.2}, \ref{table:5.3}, and \ref{table:5.4} show some important characteristics.  First, tables \ref{table:5.1} and \ref{table:5.2} shows the impact of the angle between rays and the number of VPL's per ray on the total number of VPL's used.  The equation to calculate the total number of VPL's based off the angle and the number of VPL's per ray used is:

\begin{equation}
numberVPLs = VPLsPerRay*((90/Angle)*(360/Angle)+1)
\label{eqn:calcVPLtotal}
\end{equation}

More interestingly, it shows that a large difference between the total number of VPL's used has a relatively small affect on the FPS recorded compared to other changes.  For example, reducing the number of VPL's used by a factor of 4 (from 6485 to 1625) increases FPS by only 10 whereas reducing the number of VPL's used by a factor of near 76 (from 6485 to 85) increases FPS by 40.

Table \ref{table:5.3} shows that decreasing the resolution of the screen has a relatively large impact on the FPS recorded.  To compare it against decreasing the number of VPL's used, in order to see a similar impact of reducing the resolution by 77\% or a factor of 1.3, we would have to reduce the number of VPL's by a factor of 35 (from 6485 to 185).

Similarly, table \ref{table:5.4} shows the number of indirect shadow maps having a relatively large impact on the performance.  As mentioned often in similar studies on indirect illumination, calculating indirect shadows is computationally expensive as supported in table \ref{table:5.4}.  To make a similar comparison as above, reducing the number of shadow maps used by 5, a factor of 1.33 or 75\%, has a similar impact as reducing the resolution by 77\% or a factor of 1.3 or reducing the number of VPL's by a factor of 35 (from 6485 to 185).  Also, table \ref{table:5.4} shows that for each indirect shadow map we add, we can expect a decrease in FPS by about 5.

In summary, when choosing parameters of the method to be run on slower machines, a combination of reducing the resolution and reducing the number of indirect shadow maps would result in the most efficient performance gain in regards to FPS increase.  Next, we will similarly analyze the impact of these parameter changes to the quality of the image in order to see what changes would result in the most efficient reductions while maintaining quality.

\subsection{IMPACT OF PARAMETER CHOICES ON QUALITY} \label{sec:quality}
Just as important as performance is the quality of the images rendered.  Therefore, this section will detail the quality impact of parameter choice using the default set-up as the reference image.  By detailing this information, it will reveal the ultimate flexibility of the method and whether we can use this method on slower machines with limited quality impact.  We will use the same parameter choices as the tables for section \ref{sec:fps}, but we will be interested in the percentage difference between the chosen parameters and the default parameters.

\begin{table}[h!]
	\caption{Varying the Angle Between VPL Rays (Impact on Quality)}
	\begin{center}
	    \begin{tabular}{ | l | l | l | l | l | l |}
	    \hline
	    Resolution & Angle & VPL's Per Ray & Total \#VPL's & \#Indirect SM's & \% Similar\\ \hline
	    1280x720 & 5 & 5 & 6485 & 20 & 100\\ \hline
	    1280x720 & 10 & 5 & 1625 & 20 & 97.945\\ \hline
	    1280x720 & 30 & 5 & 185 & 20 & 97.956\\ \hline
	    1280x720 & 45 & 5 & 85 & 20 & 95.440\\ \hline
	    1280x720 & 90 & 5 & 25 & 20 & 92.676\\ \hline
	    \end{tabular}
	\end{center}
	\label{table:5.5}
\end{table}

\begin{table}[h!]
	\caption{Varying the Number of VPL's Per Ray (Impact on Quality)}
	\begin{center}
	    \begin{tabular}{ | l | l | l | l | l | l |}
	    \hline
	    Resolution & Angle & VPL's Per Ray & Total \#VPL's & \#Indirect SM's & \% Similar\\ \hline
	    1280x720 & 5 & 5 & 6485 & 20 & 100\\ \hline
	    1280x720 & 5 & 4 & 5188 & 20 & 92.973\\ \hline
	    1280x720 & 5 & 3 & 3891 & 20 & 93.458\\ \hline
	    1280x720 & 5 & 2 & 2594 & 20 & 90.318\\ \hline
	    1280x720 & 5 & 1 & 1297 & 20 & 91.591\\ \hline
	    1280x720 & 5 & 6 & 7782 & 20 & 96.509\\ \hline
	    \end{tabular}
	\end{center}
	\label{table:5.6}
\end{table}

\begin{table}[h!]
	\caption{Varying the Resolution Size. (Impact on Quality)}
	\begin{center}
	    \begin{tabular}{ | l | l | l | l | l | l |}
	    \hline
	    Resolution & Angle & VPL's Per Ray & Total \#VPL's & \#Indirect SM's & \% Similar\\ \hline
	    1280x720 & 5 & 5 & 6485 & 20 & 100\\ \hline
	    1120x630 & 5 & 5 & 6485 & 20 & 99.547\\ \hline
	    960x540 & 5 & 5 & 6485 & 20 & 99.541\\ \hline
	    800x450 & 5 & 5 & 6485 & 20 & 99.418\\ \hline
	    640x360 & 5 & 5 & 6485 & 20 & 99.483\\ \hline
	    1440x810 & 5 & 5 & 6485 & 20 & 99.741\\ \hline
	    \end{tabular}
	\end{center}
	\label{table:5.7}
\end{table}

\begin{table}[h!]
	\caption{Varying the Number of Indirect Shadow Maps (Impact on Quality)}
	\begin{center}
	    \begin{tabular}{ | l | l | l | l | l | l |}
	    \hline
	    Resolution & Angle & VPL's Per Ray & Total \#VPL's & \#Indirect SM's & \% Similar\\ \hline
	    1280x720 & 5 & 5 & 6485 & 20 & 100\\ \hline
	    1280x720 & 5 & 5 & 6485 & 15 & 99.475\\ \hline
	    1280x720 & 5 & 5 & 6485 & 10 & 98.853\\ \hline
	    1280x720 & 5 & 5 & 6485 & 5 & 93.611\\ \hline
	    1280x720 & 5 & 5 & 6485 & 1 & 90.897\\ \hline
	    1280x720 & 5 & 5 & 6485 & 0 & 98.563\\ \hline
	    \end{tabular}
	\end{center}
	\label{table:5.8}
\end{table}

Tables \ref{table:5.5}, \ref{table:5.6}, \ref{table:5.7}, and \ref{table:5.8} show that ...









\section{IMAGES}
This section will be used to show images rendered in real-time from this method and the accompanying parameters chosen.  

