\chapter{CONCLUSION}

\section{General Observations}
\paragraph{}
Most importantly, indirect shadows are an expensive luxury.  They can require a lot of GPU memory and a lot of computing power depending on the approach.  If accurate indirect shadows are a must, a lot of GPU memory must be available in order to make the shadows look good.  This is due in part to the need to have the shadow maps be large.  They must be large enough compared to the screen size in order to minimize the amount of jaggies on edges of the shadows.  For this implementation, three times larger than the screen size appeared to be best, but just like all of the other parameters of this method, this factor can be changed.  As computing technology advances further, more GPU's will have more memory available and will then be able to support more shadow maps of larger size, but in the meantime, in order to get more realistic looking images, it is best to approximate indirect shadows.

\paragraph{}
As mentioned in section \ref{sec:study}, due to the low frequency nature of indirect shadows, accurate visibility is not required.  Also in that study, imperfect shadows were considered the most realistic of the approximated methods.  Therefore, the use of integrated shadows as discussed in section \ref{sec:newApproach} performed better than accurate shadows and due to the shadow limitations of using accurate shadows looked more realistic.  These shadows appeared more realistic due to being smoother and less segregated than the accurate visibility shadows reinforcing the notion that smoother inaccurate shadows look more realistic than segregated accurate shadows.  By using these shadows, the Light Wave method is more scalable in terms of portability to different types of machines with different computing capabilities as well as more scalable when it comes to increased scene complexity.

\section{Implementation Specific Final Thoughts}
\paragraph{}
Light Wave is a technique of estimating the indirect lighting in a scene in real-time.  It is able to do this through the use of virtual point lights or VPL's structured outward from the primary light source in such a way so that the direct light can wrap around objects and hit surfaces that may not be directly visible from the primary light source.  These VPL's are structured in hemispheres around the primary light source with extended viewing capabilities.  These attributes make the overall flow of the light in the scene to resemble a wave flowing outward from the primary light source in all directions and wrapping around obscuring objects.  Therefore, we approximate indirect lighting using only direct lighting calculations from upwards of thousands of light sources.  We are only concerned with where each light ray terminates and not what happens afterwards thus simplifying the calculation.  By doing this we avoid the infinite number of iterations from using a Neumann series to calculate the infinite bouncing of light throughout a scene.

\paragraph{}
An aim of Light Wave is that it can be scalable.  The implementation allows for the adjustment of parameters to allow the user to increase/decrease performance and thus decrease/increase quality depending on the computing power available and required quality.  The implementation will also allow for more accurate renderings provided computing advancements.  The default parameter implementation using accurate shadows as detailed in prior sections leads to 55 frames per second with a simple scene and after reducing VPL count runs a complex scene at 26 FPS on the current machine (see section \ref{sec:impdetails} for specifics).  It is assumed that some machines will perform slower than ours, therefore, we provided some suggestions on how to modify the parameters in order to maximize performance with limited quality impact in section \ref{sec:finalAnalysis}.  For machines that can handle the defaults and crave more realistic renderings, the first thing to increase would be the number of indirect shadow maps to smooth out the indirect shadows.

\paragraph{}
When using integrated shadows, we were able to render many more shadows than when using accurate shadows at similar FPS.  For example, we could render 60 integrated shadows at 60FPS while we could render 20 accurate shadows at 55FPS.  Integrated shadows also scaled better with an increase in scene complexity.  After similarly reducing the VPL count as with the accurate shadows, while using integrated shadows we were able to render 120 indirect shadows on the most complicated scene at 30FPS as opposed to 20 indirect shadows at 26FPS when using accurate shadows.  See tables \ref{table:tech1Complex} and \ref{table:tech2Complex} for details.  For machines that can handle more, the first thing to increase could be either the number of indirect shadow maps or the number of steps for the integrated shadows to render even more shadows.

\paragraph{}
Therefore, this implementation was successful in it's goal of approximating indirect illumination in real-time using the GPU.  It achieves fairly realistic rendered scenes that are fully dynamic allowing the user to move objects and the light in real-time.  It also proves portable with adjustable parameters allowing it to scale to the computing capabilities of the current machine as well as the complexity of the scene.  It also provides two different types of shadowing techniques using either accurate or integrated shadows.  Future advances in computing power would allow for specific changes in parameters to allow for more realistic renderings.  These include the use of additional VPL's, use of higher resolutions, use of additional indirect shadow maps for either shadowing technique, or additional steps for the integrated shadows technique in order to render ultra-realistic indirect shadows.

\section{Limitations}
\paragraph{}
Light Wave's limitations include some of the same problems encountered in other VPL-driven techniques.  This primarily includes singularities due to the VPL contributions coming from a single discrete location.  A limitation when using accurate shadows is that the number of indirect shadows drastically impacts performance due to the use of accurate visibility and the maximum number of shadow maps is limited by the amount of GPU memory available.  Integrated shadows can be used instead in order to limit GPU memory required and increase the realism of the indirect shadows.  Lastly, in order to keep the scene fully dynamic with full indirect shadows, VPL count needs to be lowered when scene complexity rises, but this can be done by increasing the VPL ray angle with limited impact on the resulting quality.

\section{Improvements}
\paragraph{}
Apart from the technological advances that would improve Light Wave's results, an interesting improvement that could be made to the technique would be to incorporate the idea of virtual ray lights Novák et al. (2012) to remove the VPL singularities.  However, keeping with the spirit of waves, we could have each VPL be a virtual semicircle light or arc on the VPL hemisphere.  So instead of integrating each VPL on a straight line, each VPL would be integrated along this semicircle or arc removing singularities and likely reducing the number of VPL's needed to achieve adequate coverage of the scene as well as expanding the use of light waves.  Shadow map memory could be minimized using some texture compression approaches since neighboring entries are likely to be similar and approximations have been shown to be sufficient.  The shadow map resolution can be varied across the scene with increased resolution where depths vary greatly and reduced resolution where depths are similar.  Additional improvements could include the matrix sampling techniques of Hašan (2007), Ou and Pellacini (2011), or Walter et al. (2005) that would allow higher VPL numbers as well as using neighborhood optimizations found in Dachsbacher and Stamminger (2006) to increase performance.